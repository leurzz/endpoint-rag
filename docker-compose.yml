services:
  rag:
    build: .
    container_name: mini-rag
    ports:
      - "8002:8000"
    environment:
      - APP_ALLOWED_ORIGINS=*
      - CHROMA_ANONYMIZED_TELEMETRY=false
    env_file:
      - .env
    volumes:
      - ./documents:/app/documents:ro
      - ./index:/index
    restart: unless-stopped

networks:
  ollama_default:
    external: true
